# –ú–æ–¥—É–ª—å: groups_tab

## –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å `groups_tab.py` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–∞–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (–∞–∫—Ç–∏–≤–Ω—ã–µ/—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ) –∏ –ø—Ä–∏–≤—è–∑–∫—É –∫ –∫–æ—Ä–ø—É—Å–∞–º (buildings).

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üë• –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≥—Ä—É–ø–ø
- üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ (–∞–∫—Ç–∏–≤–Ω—ã–µ ‚Üî —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ)
- üè¢ –ü—Ä–∏–≤—è–∑–∫–∞ –≥—Ä—É–ø–ø –∫ –∫–æ—Ä–ø—É—Å–∞–º (building_id)
- üîê –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ JWT –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–µ–π
- üîç –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ—Ä–ø—É—Å–∞–º

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

–ì—Ä—É–ø–ø—ã –∏–º–µ—é—Ç –¥–≤–∞ —Å—Ç–∞—Ç—É—Å–∞:
- **–ê–∫—Ç–∏–≤–Ω—ã–µ** (`is_active = true`) - —Ç–µ–∫—É—â–∏–µ –≥—Ä—É–ø–ø—ã, –æ–±—É—á–∞—é—â–∏–µ—Å—è –≤ —É—á–µ–±–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏
- **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ** (`is_active = false`) - –≤—ã–ø—É—Å—Ç–∏–≤—à–∏–µ—Å—è –∏–ª–∏ —Ä–∞—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –°–∫—Ä—ã–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –≥—Ä—É–ø–ø—ã –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ò–∑–æ–ª—è—Ü–∏—è –ø–æ –∫–æ—Ä–ø—É—Å–∞–º

–ö–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ—Ä–ø—É—Å—É (building):
- –ú–µ—Ç–æ–¥–∏—Å—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã —Å–≤–æ–µ–≥–æ –∫–æ—Ä–ø—É—Å–∞
- `building_id` –±–µ—Ä—ë—Ç—Å—è –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞ (`request.state.building_id`)
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ—Ä–ø—É—Å–∞–º–∏

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üìñ POST /api/v1/private/groups/get

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –≥—Ä—É–ø–ø—ã –ø–æ –∫–æ—Ä–ø—É—Å—É –º–µ—Ç–æ–¥–∏—Å—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä—É–ø–ø –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

**Middleware:**
- `role_require(Roles.methodist, Roles.read_all)` - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –º–µ—Ç–æ–¥–∏—Å—Ç–∞ –∏–ª–∏ read_all
- `JWTCookieDep` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ cookie

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `limit` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ GroupPagenSchema)
- `offset` (int): –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "is_active": true
}
```

–ü–æ–ª—è:
- `is_active` (bool | None): –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É. `true` - –∞–∫—Ç–∏–≤–Ω—ã–µ, `false` - —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ, `null` - –≤—Å–µ

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "groups": [
    {
      "id": 1,
      "name": "–ò–°-21-1",
      "is_active": true,
      "building_id": 2
    },
    {
      "id": 2,
      "name": "–ò–°-21-2",
      "is_active": true,
      "building_id": 2
    },
    {
      "id": 3,
      "name": "–ü–†-21-1",
      "is_active": true,
      "building_id": 2
    }
  ]
}
```

–ü–æ–ª—è –≥—Ä—É–ø–ø—ã:
- `id` (int): ID –≥—Ä—É–ø–ø—ã
- `name` (str): –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- `is_active` (bool): –°—Ç–∞—Ç—É—Å (–∞–∫—Ç–∏–≤–Ω–∞—è/—É—Å—Ç–∞—Ä–µ–≤—à–∞—è)
- `building_id` (int): ID –∫–æ—Ä–ø—É—Å–∞

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `db.groups.get_all()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≥—Ä—É–ø–ø —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `log_event()` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞

**–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:**

1. –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - `building_id` - –∏–∑ `request.state` (JWT —Ç–æ–∫–µ–Ω)
   - `is_active` - –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
   - `limit`, `offset` - –∏–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

2. –ó–∞–ø—Ä–æ—Å –∫ –ë–î —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:
   - **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä:** `building_id` (–∏–∑–æ–ª—è—Ü–∏—è –ø–æ –∫–æ—Ä–ø—É—Å–∞–º)
   - –ï—Å–ª–∏ `is_active` —É–∫–∞–∑–∞–Ω - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è (limit/offset)

3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å user_id (–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç)

4. –í–æ–∑–≤—Ä–∞—Ç —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ú–µ—Ç–æ–¥–∏—Å—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã —Å–≤–æ–µ–≥–æ –∫–æ—Ä–ø—É—Å–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `building_id`
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏
- –†–æ–ª—å read_all –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

### üîÑ PUT /api/v1/private/groups/update

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≥—Ä—É–ø–ø. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≥—Ä—É–ø–ø—ã –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.

**Middleware:**
- `role_require(Roles.methodist)` - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –º–µ—Ç–æ–¥–∏—Å—Ç–∞
- `JWTCookieDep` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ cookie

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:** –ù–µ—Ç

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "set_as_active": [1, 2, 3],
  "set_as_deprecated": [4, 5]
}
```

–ü–æ–ª—è:
- `set_as_active` (list[int]): –°–ø–∏—Å–æ–∫ ID –≥—Ä—É–ø–ø –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- `set_as_deprecated` (list[int]): –°–ø–∏—Å–æ–∫ ID –≥—Ä—É–ø–ø –¥–ª—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "message": "–ì—Ä—É–ø–ø—ã —Å–º–µ–Ω–∏–ª–∏ —Å—Ç–∞—Ç—É—Å—ã",
  "active_upd_count": 3,
  "depr_upd_count": 2
}
```

–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:
- `success` (bool): –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
- `message` (str): –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- `active_upd_count` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø
- `depr_upd_count` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `db.groups.switch_status()` - –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- `log_event()` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:**

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ ID –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
   - `set_as_active` - –≥—Ä—É–ø–ø—ã –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
   - `set_as_deprecated` - –≥—Ä—É–ø–ø—ã –¥–ª—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏

2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –ë–î:
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `is_active = true` –¥–ª—è –≥—Ä—É–ø–ø –∏–∑ `set_as_active`
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `is_active = false` –¥–ª—è –≥—Ä—É–ø–ø –∏–∑ `set_as_deprecated`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º –¥–∞–º–ø–æ–º –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

4. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å —Å—á—ë—Ç—á–∏–∫–∞–º–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ú–∞—Å—Å–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –°—á—ë—Ç—á–∏–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—Å–µ –ª–∏ –≥—Ä—É–ø–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- –ú–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç building_id - –º–µ—Ç–æ–¥–∏—Å—Ç –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –ª—é–±—É—é –≥—Ä—É–ø–ø—É

---

### ‚ûï POST /api/v1/private/groups/add

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã –≤ —Å–∏—Å—Ç–µ–º—É. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—É –∫ –∫–æ—Ä–ø—É—Å—É –º–µ—Ç–æ–¥–∏—Å—Ç–∞. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –∫–æ—Ä–ø—É—Å–∞.

**Middleware:**
- `role_require(Roles.methodist)` - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –º–µ—Ç–æ–¥–∏—Å—Ç–∞
- `JWTCookieDep` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ cookie

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:** –ù–µ—Ç

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "group_name": "–ò–°-24-1"
}
```

–ü–æ–ª—è:
- `group_name` (str): –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –≤ —Ä–∞–º–∫–∞—Ö –∫–æ—Ä–ø—É—Å–∞)

**–û—Ç–≤–µ—Ç (200) - –£—Å–ø–µ—à–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ:**
```json
{
  "success": true,
  "message": "–ì—Ä—É–ø–ø–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞",
  "group_id": 42
}
```

**–û—Ç–≤–µ—Ç (409) - –ì—Ä—É–ø–ø–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
```json
{
  "success": false,
  "message": "–ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
  "detail": "–ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `db.groups.add()` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ –ë–î
- `create_groups_add_response()` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- `create_response_json()` - –°–æ–∑–¥–∞–Ω–∏–µ JSON –æ—Ç–≤–µ—Ç–∞ —Å —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–º
- `log_event()` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:**

1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
   - `group_name` - –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
   - `building_id` - –∏–∑ `request.state` (JWT —Ç–æ–∫–µ–Ω)

2. –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –≤ –ë–î:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å: `(group_name, building_id)`
   - –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —ç—Ç–æ–º –∫–æ—Ä–ø—É—Å–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `None`

3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
   - **–ï—Å–ª–∏ `group_id` is None:**
     - –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è WARNING —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≥—Ä—É–ø–ø—ã
     - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 409 Conflict
   - **–ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ:**
     - –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ —Å ID –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
     - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 200 OK —Å ID –≥—Ä—É–ø–ø—ã

4. –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ª–æ–≥–∞—Ö:
   - user_id - –∫—Ä–∞—Å–Ω—ã–π
   - group_name, group_id - —Å–∏–Ω–∏–π

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `is_active = true`
- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤ —Ä–∞–º–∫–∞—Ö –∫–æ—Ä–ø—É—Å–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ—Ä–ø—É—Å—É –º–µ—Ç–æ–¥–∏—Å—Ç–∞
- –†–∞–∑–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –≥—Ä—É–ø–ø—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

---

## –§—É–Ω–∫—Ü–∏–∏

–ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (route handlers), –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç. –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ —Å–ª–æ—è –¥–∞–Ω–Ω—ã—Ö (`db.*`) –∏ —É—Ç–∏–ª–∏—Ç.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### üåê –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- `fastapi` - –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
  - `APIRouter` - –†–æ—É—Ç–µ—Ä –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - `Depends` - –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `starlette.requests.Request` - –û–±—ä–µ–∫—Ç HTTP –∑–∞–ø—Ä–æ—Å–∞

### üîó –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏

**–°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö:**
- `core.data.postgre.PgSqlDep` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ PostgreSQL
  - `db.groups.get_all()` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø
  - `db.groups.switch_status()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
  - `db.groups.add()` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã

**Response —Å—Ö–µ–º—ã:**
- `core.response_schemas.groups_tab` - –°—Ö–µ–º—ã –æ—Ç–≤–µ—Ç–æ–≤:
  - `GroupsGetResponse` - –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
  - `GroupsUpdateResponse` - –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- `core.utils.response_model_utils` - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤:
  - `GroupsAddSuccessResponse` - –£—Å–ø–µ—à–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
  - `GroupsAddConflictResponse` - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
  - `create_groups_add_response()` - –§–∞–±—Ä–∏–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
  - `create_response_json()` - –°–æ–∑–¥–∞–Ω–∏–µ JSON –æ—Ç–≤–µ—Ç–∞

**Request —Å—Ö–µ–º—ã:**
- `core.schemas.n8n_ui.groups_schema` - –°—Ö–µ–º—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
  - `GroupFilterSchema` - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (is_active)
  - `GroupUpdateSchema` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ (set_as_active, set_as_deprecated)
  - `GroupAddSchema` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ (group_name)
- `core.schemas.schemas2depends.GroupPagenSchema` - –ü–∞–≥–∏–Ω–∞—Ü–∏—è (limit, offset)
- `core.schemas.cookie_settings_schema.JWTCookieDep` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–£—Ç–∏–ª–∏—Ç—ã:**
- `core.utils.anything.Roles` - –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (methodist, read_all)
- `core.utils.lite_dependencies.role_require` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π
- `core.utils.logger.log_event` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 409 Conflict - –ì—Ä—É–ø–ø–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/v1/private/groups/add`

**–ü—Ä–∏—á–∏–Ω–∞:** –ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —ç—Ç–æ–º –∫–æ—Ä–ø—É—Å–µ

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": false,
  "message": "–ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
  "detail": "–ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** WARNING - "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É"

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ –ø–∞—Ä–µ `(group_name, building_id)`. –†–∞–∑–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –≥—Ä—É–ø–ø—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ò–∑–æ–ª—è—Ü–∏—è –ø–æ –∫–æ—Ä–ø—É—Å–∞–º

–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥—É–ª—è - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
- `building_id` –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞
- –ú–µ—Ç–æ–¥–∏—Å—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã —Å–≤–æ–µ–≥–æ –∫–æ—Ä–ø—É—Å–∞
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≥—Ä—É–ø–ø–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –∫–æ—Ä–ø—É—Å—É
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç–∞—Ç—É—Å—ã –≥—Ä—É–ø–ø

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (soft delete):
- –ì—Ä—É–ø–ø—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏
- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–µ–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å `is_active`
- –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≥—Ä—É–ø–ø—ã –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

### –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–π

–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î:
- Constraint: `UNIQUE (group_name, building_id)`
- –†–∞–∑–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –≥—Ä—É–ø–ø—ã "–ò–°-21-1"
- –í –æ–¥–Ω–æ–º –∫–æ—Ä–ø—É—Å–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ query:
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `offset` - —Å–º–µ—â–µ–Ω–∏–µ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã * limit)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏

### –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ª–æ–≥–∞—Ö

–õ–æ–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç ANSI escape codes:
- `\033[31m` - –∫—Ä–∞—Å–Ω—ã–π (user_id)
- `\033[34m` - —Å–∏–Ω–∏–π (group_name, group_id)
- `\033[0m` - —Å–±—Ä–æ—Å —Ü–≤–µ—Ç–∞

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üìñ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø

```python
POST /api/v1/private/groups/get?limit=20&offset=0
Content-Type: application/json
Cookie: access_token=...; refresh_token=...

{
  "is_active": true
}

# –û—Ç–≤–µ—Ç (200):
{
  "groups": [
    {"id": 1, "name": "–ò–°-21-1", "is_active": true, "building_id": 2},
    {"id": 2, "name": "–ò–°-21-2", "is_active": true, "building_id": 2},
    {"id": 3, "name": "–ü–†-21-1", "is_active": true, "building_id": 2}
  ]
}

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ building_id –º–µ—Ç–æ–¥–∏—Å—Ç–∞
```

### üìö –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≥—Ä—É–ø–ø (–∞–∫—Ç–∏–≤–Ω—ã–µ + —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ)

```python
POST /api/v1/private/groups/get?limit=50&offset=0
Content-Type: application/json
Cookie: access_token=...; refresh_token=...

{
  "is_active": null
}

# –û—Ç–≤–µ—Ç (200):
{
  "groups": [
    {"id": 1, "name": "–ò–°-21-1", "is_active": true, "building_id": 2},
    {"id": 2, "name": "–ò–°-21-2", "is_active": true, "building_id": 2},
    {"id": 10, "name": "–ò–°-18-1", "is_active": false, "building_id": 2}
  ]
}
```

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã

```python
POST /api/v1/private/groups/add
Content-Type: application/json
Cookie: access_token=...; refresh_token=...

{
  "group_name": "–ò–°-24-1"
}

# –û—Ç–≤–µ—Ç (200):
{
  "success": true,
  "message": "–ì—Ä—É–ø–ø–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞",
  "group_id": 42
}

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: building_id —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ JWT
```

### üîÑ –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

```python
PUT /api/v1/private/groups/update
Content-Type: application/json
Cookie: access_token=...; refresh_token=...

{
  "set_as_active": [15, 16],
  "set_as_deprecated": [1, 2, 3]
}

# –û—Ç–≤–µ—Ç (200):
{
  "success": true,
  "message": "–ì—Ä—É–ø–ø—ã —Å–º–µ–Ω–∏–ª–∏ —Å—Ç–∞—Ç—É—Å—ã",
  "active_upd_count": 2,
  "depr_upd_count": 3
}
```

### ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```python
# –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –≥—Ä—É–ø–ø—É
POST /api/v1/private/groups/add
Content-Type: application/json
Cookie: access_token=...; refresh_token=...

{
  "group_name": "–ò–°-21-1"
}

# –û—Ç–≤–µ—Ç (409):
{
  "success": false,
  "message": "–ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
  "detail": "–ì—Ä—É–ø–ø–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

### üìÑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è

```python
# –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (20 –∑–∞–ø–∏—Å–µ–π)
POST /api/v1/private/groups/get?limit=20&offset=0
{"is_active": true}

# –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
POST /api/v1/private/groups/get?limit=20&offset=20
{"is_active": true}

# –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
POST /api/v1/private/groups/get?limit=20&offset=40
{"is_active": true}
```

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π workflow

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã –ø–µ—Ä–≤–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤

```
1. –ú–µ—Ç–æ–¥–∏—Å—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –≥—Ä—É–ø–ø—É:
   POST /api/v1/private/groups/add
   {"group_name": "–ò–°-24-1"}
   ‚Üí group_id: 42, building_id: 2 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

2. –ú–µ—Ç–æ–¥–∏—Å—Ç —Å–≤—è–∑—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º–∏:
   (—á–µ—Ä–µ–∑ disciplines_tab.py)
   POST /api/v1/private/disciplines/add_relation
   {"discipline_id": 1, "group_name": "–ò–°-24-1"}

3. –ú–µ—Ç–æ–¥–∏—Å—Ç —Å–æ–∑–¥–∞—ë—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø—ã:
   (—á–µ—Ä–µ–∑ main_ui.py –∏ ext_card.py)

4. –ì—Ä—É–ø–ø–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø
```

### –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤—ã–ø—É—Å—Ç–∏–≤—à–µ–π—Å—è –≥—Ä—É–ø–ø—ã

```
1. –ú–µ—Ç–æ–¥–∏—Å—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã:
   POST /api/v1/private/groups/get
   {"is_active": true}

2. –ú–µ—Ç–æ–¥–∏—Å—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤—ã–ø—É—Å—Ç–∏–≤—à—É—é—Å—è –≥—Ä—É–ø–ø—É:
   PUT /api/v1/private/groups/update
   {"set_as_active": [], "set_as_deprecated": [15]}

3. –ì—Ä—É–ø–ø–∞ —Å–∫—Ä—ã—Ç–∞ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
```

## üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### disciplines_tab

–ì—Ä—É–ø–ø—ã —Å–≤—è–∑–∞–Ω—ã —Å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É g2d:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –ø—Ä–µ–ø–æ–¥–∞—é—Ç—Å—è –≤ –≥—Ä—É–ø–ø–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –°–º. `docs/api/disciplines_tab.md`

### main_ui –∏ ext_card

–ì—Ä—É–ø–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
- –ú–µ—Ç–æ–¥–∏—Å—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –≥—Ä—É–ø–ø—É
- –°–æ–∑–¥–∞—ë—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≥—Ä—É–ø–ø—ã
- –ì—Ä—É–ø–ø–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ—Ä–ø—É—Å—É - –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### timetable_api

–°—Ç—É–¥–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥—Ä—É–ø–ø—ã:
- –ü—É–±–ª–∏—á–Ω—ã–π API –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–µ
- –°–º. `docs/api/timetable_api.md`
